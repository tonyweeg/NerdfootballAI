<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nerd Universe - NerdfootballAI Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./js/utils/suppress-tailwind-warning.js"></script>
    <script>
        tailwind.config = {
            corePlugins: { preflight: true },
            theme: {
                extend: {
                    colors: {
                        'terminal': {
                            'bg': '#0a0a0a',
                            'surface': '#1a1a1a',
                            'border': '#2a2a2a',
                            'accent': '#00ff41',
                            'secondary': '#00d4ff',
                            'danger': '#ff4757',
                            'warning': '#ffa502',
                            'text': '#ffffff',
                            'muted': '#888888'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap');

        body {
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(45deg, #0a0a0a 0%, #1a1a1a 50%, #0d1117 100%);
            background-attachment: fixed;
        }

        .terminal-window {
            background: rgba(26, 26, 26, 0.95);
            border: 1px solid #2a2a2a;
            backdrop-filter: blur(10px);
            box-shadow:
                0 0 20px rgba(0, 255, 65, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .neon-button {
            background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
            border: 1px solid #00ff41;
            color: #00ff41;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.5);
        }

        .neon-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .neon-button:hover::before {
            left: 100%;
        }

        .neon-button:hover {
            background: linear-gradient(45deg, #2a2a2a, #3a3a3a);
            box-shadow:
                0 0 20px rgba(0, 255, 65, 0.3),
                inset 0 0 20px rgba(0, 255, 65, 0.1);
            transform: translateY(-2px);
        }

        .admin-button {
            background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
            border: 1px solid #444;
            color: #ffffff;
            text-shadow: none;
            padding: 8px 12px !important;
            font-size: 0.85rem;
            line-height: 1.2;
        }

        .admin-button:hover {
            background: linear-gradient(45deg, #2a2a2a, #3a3a3a);
            border-color: #666;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .admin-button .text-lg {
            font-size: 1rem !important;
            margin-right: 6px !important;
        }

        .admin-button .text-sm {
            font-size: 0.7rem !important;
            color: #aaa !important;
            font-weight: normal !important;
        }

        .terminal-text {
            color: #00ff41;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
        }

        .command-line::before {
            content: '$ ';
            color: #00d4ff;
            font-weight: bold;
        }

        .glow-text {
            text-shadow: 0 0 20px currentColor;
        }

        .scan-line {
            position: relative;
            overflow: hidden;
        }

        .scan-line::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: #4a90e2;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
            pointer-events: none;
        }

        .header-terminal {
            position: relative;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 255, 65, 0.1);
            z-index: 1000;
        }

        /* Terminal color utility classes */
        .terminal-text { color: #ffffff; }
        .terminal-accent { color: #00ff41; }
        .terminal-secondary { color: #00d4ff; }
        .terminal-danger { color: #ff4757; }
        .terminal-warning { color: #ffa502; }
        .terminal-muted { color: #888888; }
        .terminal-bg { background: #0a0a0a; }
        .terminal-surface { background: #1a1a1a; }
        .terminal-border { border-color: #2a2a2a; }

        /* Starry Background Animation */
        @keyframes stars {
            0% { transform: translateY(0); }
            100% { transform: translateY(-2000px); }
        }

        .star-field {
            position: fixed;
            width: 100%;
            height: 200%;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
            background:
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent),
                radial-gradient(1px 1px at 80% 10%, white, transparent),
                radial-gradient(2px 2px at 90% 60%, white, transparent);
            background-size: 200px 200px, 300px 300px, 150px 150px, 250px 250px, 180px 180px;
            animation: stars 60s linear infinite;
        }
    </style>
    <script src="./js/utils/logger-compat.js"></script>
</head>
<body class="min-h-screen text-terminal-text">
    <!-- Starry Background -->
    <div class="star-field"></div>

    <!-- Matrix Background Effect -->
    <canvas id="matrix-bg" class="matrix-bg"></canvas>

    <!-- Header - Linux Terminal Style -->
    <header class="header-terminal">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <!-- Logo and title - left aligned -->
                <a href="/" class="flex items-center gap-3 hover:opacity-80 transition-opacity cursor-pointer">
                    <img src="https://firebasestorage.googleapis.com/v0/b/nerdfootball.firebasestorage.app/o/nerdfootball-nerd-2025.png?alt=media&token=de5cef91-c70e-49bc-ba71-6f993439b11e" alt="NerdfootballAI Logo" class="h-8 md:h-10 w-auto">
                    <h1 class="text-3xl md:text-4xl font-bold terminal-text glow-text">NerdfootballAI</h1>
                </a>
                <!-- Right side elements -->
                <div class="flex items-center space-x-4">
                    <!-- Status Indicators -->
                    <div class="flex items-center space-x-2">
                        <!-- Game Update Indicator -->
                        <div id="game-update-indicator" class="hidden opacity-0 transition-opacity duration-500" title="Game Updated">
                            <span class="text-lg terminal-text">üèà</span>
                            <div class="live-game-data mt-1 space-y-0.5 text-xs terminal-muted"></div>
                        </div>
                        <!-- Cache Status Indicator -->
                        <div id="cache-status-indicator" class="relative group" title="Diamond Level Cache System">
                            <div id="cache-status-glyph" class="w-3 h-3 rounded-full bg-terminal-accent animate-pulse cursor-pointer refreshing shadow-lg shadow-terminal-accent/30"></div>
                            <div class="absolute right-0 mt-2 w-64 bg-terminal-surface text-terminal-text text-xs rounded-lg p-3 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-terminal-border shadow-lg">
                                <div class="font-bold text-terminal-accent mb-2">üî• DIAMOND CACHE STATUS</div>
                                <div class="space-y-1">
                                    <div class="flex justify-between">
                                        <span>ESPN API Cache:</span>
                                        <span class="text-green-400">‚úÖ &lt;500ms</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Grid Cache (GRIDDY):</span>
                                        <span class="text-green-400">‚úÖ Active</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>AI Predictions:</span>
                                        <span class="text-green-400">‚úÖ Cached</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Firebase Documents:</span>
                                        <span class="text-green-400">‚úÖ Synced</span>
                                    </div>
                                </div>
                                <div class="border-t border-terminal-border mt-2 pt-2 text-terminal-secondary">
                                    <div class="text-xs">System Performance: Diamond Level ‚ö°</div>
                                </div>
                            </div>
                        </div>

                        <!-- Theme Variant Toggle -->
                        <button id="theme-variant-toggle" class="ml-2 p-1 rounded bg-opacity-20 hover:bg-opacity-30 transition-all duration-200 text-sm terminal-text" title="Toggle Light/Dark Variant" style="display: none;">
                            üåô
                        </button>
                    </div>
                    <span class="text-sm font-medium terminal-secondary glow-text">v3.0</span>
                    <div class="flex items-center space-x-2 relative">
                        <span id="user-display" class="text-sm font-medium terminal-text command-line">Welcome, User</span>

                        <!-- Hamburger Menu - Terminal Style -->
                        <button id="menu-btn" class="neon-button p-2 rounded-md">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                        <div id="menu-panel" class="absolute top-full right-0 mt-2 w-64 terminal-window rounded-md shadow-2xl hidden" style="z-index: 9999;">
                            <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                                <!-- Main Features Only -->
                                <a href="./nerd-universe-grid.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200 bg-terminal-accent/20 border-l-4 border-terminal-accent" role="menuitem">
                                    <span class="text-lg">üìä</span>
                                    <span class="font-semibold">Picks Grid</span>
                                </a>
                                <a href="./nerds-battlestar-galactica.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200 bg-purple-900/20 border-l-4 border-purple-500" role="menuitem">
                                    <span class="text-lg">üåå</span>
                                    <span class="font-semibold">Battlestar Galactica</span>
                                </a>
                                <a href="./tricked-out-ricky.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200 bg-blue-900/20 border-l-4 border-blue-500" role="menuitem">
                                    <span class="text-lg">üìä</span>
                                    <span class="font-semibold">Tricked Out Ricky</span>
                                </a>
                                <a href="./index.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200" role="menuitem">
                                    <span class="text-lg">üéØ</span>
                                    <span>Make Picks</span>
                                </a>
                                <a href="./nerdSurvivor.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200" role="menuitem">
                                    <span class="text-lg">üèà</span>
                                    <span>Survivor Pool</span>
                                </a>
                                <a href="./the-survival-chamber-36-degrees.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200 bg-terminal-danger/20 border-l-4 border-yellow-400" role="menuitem">
                                    <span class="text-lg">‚öîÔ∏è</span>
                                    <span>The 36 Chambers</span>
                                </a>
                                <a href="./leaderboard.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200" role="menuitem">
                                    <span class="text-lg">üèÜ</span>
                                    <span>Season Leaderboard</span>
                                </a>
                                <a href="./weekly-leaderboard.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200" role="menuitem">
                                    <span class="text-lg">üéÆ</span>
                                    <span>Weekly Leaderboard</span>
                                </a>
                                <a href="./nerd-scoring-audit-tool.html" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 flex items-center space-x-2 transition-all duration-200 bg-red-900/20 border-l-4" style="border-left-color: #8B0000;" role="menuitem">
                                    <span class="text-lg" style="color: #8B0000;">üé≠</span>
                                    <span style="color: #8B0000; font-weight: bold;">TOOL Scoring Audit</span>
                                </a>

                                <!-- Account Section -->
                                <div class="border-t border-terminal-border my-1"></div>
                                <button id="logout-btn" onclick="handleLogout()" class="w-full text-left block px-4 py-2 text-sm terminal-text hover:bg-terminal-surface/50 hover:bg-terminal-danger/20 flex items-center space-x-2 transition-all duration-200" role="menuitem">
                                    <span class="text-lg">üö™</span>
                                    <span>Logout</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Hero Terminal Window -->
        <div class="terminal-window rounded-xl p-8 mb-8 scan-line">
            <div class="text-center">
                <h1 class="text-2xl md:text-3xl font-bold mb-4 terminal-text glow-text">üåå Nerd Universe</h1>
                <p class="text-lg md:text-xl terminal-secondary mb-6 command-line">Your Complete Fantasy Football Command Center</p>
                <div class="grid grid-cols-2 md:grid-cols-6 gap-4 text-center mt-8">
                    <div class="terminal-window p-4 hover:border-terminal-accent transition-all duration-300 cursor-pointer" onclick="location.href='./nerd-universe-grid.html'">
                        <div class="text-2xl mb-2">üìä</div>
                        <div class="text-sm terminal-text">Picks Grid</div>
                    </div>
                    <div class="terminal-window p-4 hover:border-purple-500 transition-all duration-300 cursor-pointer" onclick="location.href='./nerds-battlestar-galactica.html'" style="background: linear-gradient(135deg, rgba(15, 15, 45, 0.9), rgba(25, 15, 50, 0.9));">
                        <div class="text-2xl mb-2">üåå</div>
                        <div class="text-sm text-purple-400 font-bold">Battlestar Galactica</div>
                    </div>
                    <div class="terminal-window p-4 hover:border-terminal-secondary transition-all duration-300 cursor-pointer" onclick="location.href='./picks-landing.html'">
                        <div class="text-2xl mb-2">üéØ</div>
                        <div class="text-sm terminal-text">Make Picks</div>
                    </div>
                    <div class="terminal-window p-4 hover:border-yellow-400 transition-all duration-300 cursor-pointer" onclick="location.href='./the-survival-chamber-36-degrees.html'">
                        <div class="text-2xl mb-2">‚öîÔ∏è</div>
                        <div class="text-sm text-yellow-400 font-bold">Survivor's Gauntlet</div>
                    </div>
                    <div class="terminal-window p-4 hover:border-terminal-danger transition-all duration-300 cursor-pointer" onclick="location.href='./leaderboard.html'">
                        <div class="text-2xl mb-2">üèÜ</div>
                        <div class="text-sm terminal-text">Season Board</div>
                    </div>
                    <div class="terminal-window p-4 hover:border-terminal-warning transition-all duration-300 cursor-pointer" onclick="location.href='./weekly-leaderboard.html'">
                        <div class="text-2xl mb-2">üéÆ</div>
                        <div class="text-sm terminal-text">Weekly Board</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Access Terminal Windows -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- User Interfaces -->
            <div class="terminal-window p-6 hover:border-terminal-accent transition-all duration-300">
                <h2 class="text-xl font-bold mb-4 flex items-center terminal-accent glow-text">
                    <span class="text-2xl mr-3">üéÆ</span>
                    User Interfaces
                </h2>
                <div class="space-y-3">
                    <a href="./NerdSurvivorPicks.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üèà</span>
                        Survivor Picks
                    </a>
                    <a href="./nerdfootballConfidencePicks.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üéØ</span>
                        Confidence Picks
                    </a>
                    <a href="./masters-of-the-nerdUniverse-audit.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block" style="border: 2px solid #ffd700;">
                        <span class="text-lg mr-2">üåå</span>
                        Unified Scoreboards
                    </a>
                </div>
            </div>

            <!-- Analysis Tools -->
            <div class="terminal-window p-6 hover:border-terminal-secondary transition-all duration-300">
                <h2 class="text-xl font-bold mb-4 flex items-center terminal-secondary glow-text">
                    <span class="text-2xl mr-3">üìä</span>
                    Analysis Tools
                </h2>
                <div class="space-y-3">
                    <a href="./leaderboard.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üèÜ</span>
                        Season Leaderboard
                    </a>
                    <a href="./weekly-leaderboard.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üéÆ</span>
                        Weekly Leaderboard
                    </a>
                    <a href="./nerd-universe-grid.html" class="neon-button flex items-center p-3 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üìä</span>
                        The Grid
                    </a>
                    <a href="./nerds-battlestar-galactica.html" class="flex items-center p-3 rounded-lg transition-all duration-300 block text-purple-400 border border-purple-600 hover:bg-purple-900/20" style="background: linear-gradient(45deg, #0a0015, #15002a);">
                        <span class="text-lg mr-2">üåå</span>
                        Battlestar Galactica
                    </a>
                    <a href="./the-survival-chamber-36-degrees.html" class="flex items-center p-3 rounded-lg transition-all duration-300 block text-yellow-400 border border-red-600 hover:bg-red-900/20" style="background: linear-gradient(45deg, #1a0000, #2a0000);">
                        <span class="text-lg mr-2">‚öîÔ∏è</span>
                        Survivor's Gauntlet
                    </a>
                    <a href="./tricked-out-ricky.html" class="flex items-center p-3 rounded-lg transition-all duration-300 block text-cyan-400 border border-purple-500 hover:bg-purple-900/30" style="background: linear-gradient(45deg, #0a0a1f, #1a1a2f);">
                        <span class="text-lg mr-2">üöÄ</span>
                        Space Nerd Weekly Stats
                    </a>
                </div>
            </div>

            <!-- Admin Tools -->
            <div class="terminal-window p-6 hover:border-terminal-accent transition-all duration-300">
                <h2 class="text-xl font-bold mb-4 flex items-center terminal-danger glow-text">
                    <span class="text-2xl mr-3">üîß</span>
                    Admin Tools
                </h2>
                <div class="space-y-2">
                    <a href="./NerdSurvivorAdmin.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üíÄ</span>
                        Survivor Admin
                    </a>
                    <a href="./confidencePicksAdmin.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üéØ</span>
                        Confidence Admin
                    </a>
                    <a href="./picks-viewer-auth.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üîç</span>
                        Confidence Audit
                    </a>
                    <a href="./nerd-scoring-audit-tool.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üé≠</span>
                        Scoring Audit
                    </a>
                    <a href="./nerd-messaging.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üêâ</span>
                        Messaging
                    </a>

                    <a href="./ai-picks-helper.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">ü•∑</span>
                        NERD AI TOOL
                    </a>

                    <a href="./nerd-game-updater.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üèà</span>
                        Game Updater
                    </a>

                    <a href="./wu-tang-admin-dashboard.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üêù</span>
                        System Dashboard
                    </a>

                    <a href="./nerdfootball-comprehensive-docs.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üìö</span>
                        System Docs
                    </a>

                    <a href="./straight-cache-homey.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üöÄ</span>
                        Cache Control
                    </a>

                    <a href="./nerdfootball-nerd-crud.html" class="admin-button flex items-center p-2 rounded-lg transition-all duration-300 block">
                        <span class="text-lg mr-2">üë•</span>
                        User & Pool Manager
                    </a>

                </div>
            </div>
        </div>

        <!-- Feature Highlights Terminal Window -->
        <div class="terminal-window p-8 scan-line">
            <h2 class="text-2xl font-bold mb-6 text-center terminal-warning glow-text command-line">Latest System Updates</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="flex items-start space-x-4 p-4 terminal-window rounded-lg hover:border-terminal-accent transition-all duration-300">
                    <div class="text-3xl">üèà</div>
                    <div>
                        <h3 class="font-bold text-lg mb-2 terminal-accent">Beautiful Survivor Interface</h3>
                        <p class="terminal-muted">New user-friendly survivor picks with time-based locking, mobile optimization, and visual team selection.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4 p-4 terminal-window rounded-lg hover:border-terminal-secondary transition-all duration-300">
                    <div class="text-3xl">üéØ</div>
                    <div>
                        <h3 class="font-bold text-lg mb-2 terminal-secondary">Enhanced Confidence Picks</h3>
                        <p class="terminal-muted">Auto-save functionality, week navigation, and Eastern Time game locking for secure pick management.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4 p-4 terminal-window rounded-lg hover:border-terminal-danger transition-all duration-300">
                    <div class="text-3xl">üîß</div>
                    <div>
                        <h3 class="font-bold text-lg mb-2 terminal-danger">Comprehensive Admin Tools</h3>
                        <p class="terminal-muted">Full CRUD interfaces for both survivor and confidence picks with real-time validation and user management.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4 p-4 terminal-window rounded-lg hover:border-terminal-warning transition-all duration-300">
                    <div class="text-3xl">‚è∞</div>
                    <div>
                        <h3 class="font-bold text-lg mb-2 terminal-warning">Eastern Time Integration</h3>
                        <p class="terminal-muted">Accurate game timing with automatic pick locking when games start, using ESPN's Eastern Time system.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Matrix Background JavaScript -->
    <script>
        // Matrix background effect
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        function setCanvasSize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        setCanvasSize();
        window.addEventListener('resize', setCanvasSize);

        // Matrix characters
        const matrixChars = '01010101010101010101NERDFOOTBALLAI';
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];

        // Initialize drops
        for (let i = 0; i < columns; i++) {
            drops[i] = 1;
        }

        function drawMatrix() {
            // Create fading effect
            ctx.fillStyle = 'rgba(10, 10, 10, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Set text properties
            ctx.fillStyle = 'rgba(0, 255, 65, 0.8)';
            ctx.font = fontSize + 'px JetBrains Mono';

            // Draw characters
            for (let i = 0; i < drops.length; i++) {
                const text = matrixChars[Math.floor(Math.random() * matrixChars.length)];
                const x = i * fontSize;
                const y = drops[i] * fontSize;

                ctx.fillText(text, x, y);

                // Reset drop if it reaches bottom or randomly
                if (y > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }

                drops[i]++;
            }
        }

        // Start animation
        setInterval(drawMatrix, 50);
    </script>

    <!-- Firebase SDK -->
    <script type="module">
        import { getFirebaseConfig } from './js/config/firebase-config.js';
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
        import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';

        const app = initializeApp(getFirebaseConfig());
        const auth = getAuth(app);

        // Admin UIDs (same as other pages)
        const ADMIN_UIDS = [
            'WxSPmEildJdqs6T5hIpBUZrscwt2',
            'BPQvRhpVl1ZzsBXaS7C2iFe2Xpc2',
            'bEVzcZtSExT8cIjamWnGbWZ3J5s1'
        ];

        // Auth state handler
        onAuthStateChanged(auth, (user) => {
            const userDisplay = document.getElementById('user-display');

            if (user) {
                const isAdmin = ADMIN_UIDS.includes(user.uid);
                userDisplay.textContent = `${user.email}`;
                userDisplay.classList.add('terminal-accent');

                // Show/hide admin tools based on permissions
                const adminElements = document.querySelectorAll('.admin-button');
                adminElements.forEach(el => {
                    if (isAdmin) {
                        el.style.display = 'block';
                    } else {
                        el.style.display = 'none';
                    }
                });
            } else {
                userDisplay.textContent = 'Not signed in';
                userDisplay.classList.add('terminal-danger');

                // Hide all admin elements for non-authenticated users
                const adminElements = document.querySelectorAll('.admin-button');
                adminElements.forEach(el => {
                    el.style.display = 'none';
                });

                // Redirect to login immediately
                window.location.href = './login.html';
            }
        });

        // Logout functionality
        window.handleLogout = async function() {
            if (confirm('Are you sure you want to logout?')) {
                try {
                    // Close hamburger menu if open
                    const menuPanel = document.getElementById('menu-panel');
                    menuPanel.classList.add('hidden');

                    await signOut(auth);
                    window.location.href = './login.html';
                } catch (error) {
                    logger.error('AUTH', 'Logout error:', error);
                    alert('Error logging out. Please try again.');
                }
            }
        };
    </script>

    <!-- JavaScript for Menu Functionality -->
    <script>
        // Menu toggle functionality
        document.getElementById('menu-btn').addEventListener('click', function() {
            const menu = document.getElementById('menu-panel');
            menu.classList.toggle('hidden');
        });


        // Close menus when clicking outside
        document.addEventListener('click', function(event) {
            const menuBtn = document.getElementById('menu-btn');
            const menuPanel = document.getElementById('menu-panel');

            // Close hamburger menu
            if (!menuBtn.contains(event.target) && !menuPanel.contains(event.target)) {
                menuPanel.classList.add('hidden');
            }
        });

        // Menu close functionality
        document.addEventListener('click', function(event) {
            const menuBtn = document.getElementById('menu-btn');
            const menuPanel = document.getElementById('menu-panel');
            if (!menuBtn.contains(event.target) && !menuPanel.contains(event.target)) {
                menuPanel.classList.add('hidden');
            }
        });

    </script>
</body>
</html>