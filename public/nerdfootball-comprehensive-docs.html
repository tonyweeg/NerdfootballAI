<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NerdFootball - Complete Technical Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-dark.min.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

        body {
            font-family: 'Orbitron', 'Courier New', monospace;
            background: #000000;
            color: #00ff41;
            min-height: 100vh;
            position: relative;
        }

        @keyframes stars {
            0% { transform: translateY(0); }
            100% { transform: translateY(-2000px); }
        }

        .star-field {
            position: fixed;
            width: 100%;
            height: 200%;
            top: 0;
            left: 0;
            z-index: 0;
            pointer-events: none;
            background:
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent),
                radial-gradient(1px 1px at 80% 10%, white, transparent),
                radial-gradient(2px 2px at 90% 60%, white, transparent);
            background-size: 200px 200px, 300px 300px, 150px 150px, 250px 250px, 180px 180px;
            animation: stars 60s linear infinite;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        .section {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff41;
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            backdrop-filter: blur(5px);
        }
        .hero {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(0, 255, 65, 0.1) 100%);
            border: 3px solid #ffd700;
            text-align: center;
            padding: 60px 30px;
        }
        .hero h1 {
            font-size: 3.5rem;
            background: linear-gradient(45deg, #ffd700, #00ff41, #74c0fc);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }
        .hero p {
            font-size: 1.2rem;
            color: #74c0fc;
            margin-bottom: 30px;
        }
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .nav-card {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 25px;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .nav-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            border-color: #00ff41;
        }
        .nav-card h3 {
            color: #ffd700;
            font-size: 1.4rem;
            margin-bottom: 15px;
        }
        .nav-card p {
            color: #00ff41;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        .nav-card .icon {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
        }
        .section h1, .section h2, .section h3 {
            color: #ffd700;
            margin-bottom: 20px;
        }
        .section h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #ffd700;
            padding-bottom: 15px;
        }
        .section h2 {
            font-size: 1.8rem;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
        }
        .section h3 {
            font-size: 1.4rem;
            color: #ff6b6b;
        }
        .highlight {
            background: rgba(255, 215, 0, 0.1);
            border-left: 4px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #333;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
        }
        .architecture-diagram {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #74c0fc;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .tech-card {
            background: linear-gradient(145deg, rgba(0, 255, 65, 0.1) 0%, rgba(116, 192, 252, 0.1) 100%);
            border: 1px solid #00ff41;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .tech-card h4 {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        .tech-list {
            list-style: none;
            padding: 0;
        }
        .tech-list li {
            color: #00ff41;
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px solid rgba(0, 255, 65, 0.2);
        }
        .tech-list li:last-child {
            border-bottom: none;
        }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid #00ff41;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
            display: block;
        }
        .metric-label {
            font-size: 0.9rem;
            color: #00ff41;
            margin-top: 5px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        .feature-card {
            background: linear-gradient(145deg, rgba(255, 107, 107, 0.1) 0%, rgba(255, 215, 0, 0.1) 100%);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 25px;
        }
        .feature-card h4 {
            color: #ff6b6b;
            font-size: 1.3rem;
            margin-bottom: 15px;
        }
        .feature-card .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .status-production {
            background: #51cf66;
            color: #000;
        }
        .status-beta {
            background: #ffd43b;
            color: #000;
        }
        .status-development {
            background: #74c0fc;
            color: #000;
        }
        .workflow-step {
            background: rgba(116, 192, 252, 0.1);
            border-left: 4px solid #74c0fc;
            padding: 20px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .workflow-step h4 {
            color: #74c0fc;
            margin-bottom: 10px;
        }
        .success { color: #51cf66; }
        .warning { color: #ffd43b; }
        .error { color: #ff6b6b; }
        .info { color: #74c0fc; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.5);
        }
        th, td {
            border: 1px solid #333;
            padding: 12px;
            text-align: left;
        }
        th {
            background: rgba(255, 215, 0, 0.1);
            color: #ffd700;
            font-weight: bold;
        }
        .toc {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
        }
        .toc h3 {
            color: #ffd700;
            margin-bottom: 20px;
            text-align: center;
        }
        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .toc-section {
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 15px;
        }
        .toc-section h4 {
            color: #00ff41;
            margin-bottom: 10px;
        }
        .toc-section ul {
            list-style: none;
            padding: 0;
        }
        .toc-section li {
            margin: 5px 0;
        }
        .toc-section a {
            color: #74c0fc;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .toc-section a:hover {
            color: #ffd700;
        }
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(145deg, #ffd700, #00ff41);
            color: #000;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
        }
        .back-to-top:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
        }
        .hidden {
            display: none;
        }
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            .nav-grid {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="star-field"></div>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero section">
            <h1>🏆 NerdFootball</h1>
            <p><strong>Complete Technical Documentation & Architecture Guide</strong></p>
            <div class="metric-grid">
                <div class="metric-card">
                    <span class="metric-value">53+</span>
                    <span class="metric-label">Active Users</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">&lt;500ms</span>
                    <span class="metric-label">Response Time</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">5</span>
                    <span class="metric-label">Pool Types</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">99.9%</span>
                    <span class="metric-label">Uptime</span>
                </div>
            </div>
            <div class="mt-8">
                <span class="status-production status">🌟 STARRY NIGHT BUILD 1000</span>
                <span class="status-beta status">Diamond Level Quality</span>
                <span class="status-development status">Zero Manual Intervention</span>
            </div>
        </div>

        <!-- Quick Navigation -->
        <div class="section">
            <h2>🗺️ Quick Navigation</h2>
            <div class="nav-grid">
                <div class="nav-card" onclick="scrollToSection('overview')">
                    <div class="icon">🎯</div>
                    <h3>System Overview</h3>
                    <p>High-level architecture, core philosophy, and system capabilities</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('tech-stack')">
                    <div class="icon">⚡</div>
                    <h3>Technology Stack</h3>
                    <p>Frontend, backend, database, and infrastructure technologies</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('architecture')">
                    <div class="icon">🏗️</div>
                    <h3>System Architecture</h3>
                    <p>Data flow, component interactions, and architectural patterns</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('starry-night')">
                    <div class="icon">🌟</div>
                    <h3>STARRY NIGHT BUILD 1000</h3>
                    <p>Dynamic architecture, single source of truth, and zero manual intervention</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('features')">
                    <div class="icon">🚀</div>
                    <h3>Core Features</h3>
                    <p>Pool types, AI predictions, real-time scoring, and user management</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('performance')">
                    <div class="icon">📊</div>
                    <h3>Performance & Scaling</h3>
                    <p>Caching systems, optimization strategies, and capacity planning</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('development')">
                    <div class="icon">🛠️</div>
                    <h3>Development Workflow</h3>
                    <p>Diamond Level standards, testing, deployment, and quality gates</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('security')">
                    <div class="icon">🔒</div>
                    <h3>Security & Authentication</h3>
                    <p>Firebase Auth, admin controls, data protection, and access management</p>
                </div>
                <div class="nav-card" onclick="scrollToSection('monitoring')">
                    <div class="icon">📈</div>
                    <h3>Monitoring & Operations</h3>
                    <p>Health checks, error tracking, debugging, and system maintenance</p>
                </div>
            </div>
        </div>

        <!-- Table of Contents -->
        <div class="toc">
            <h3>📋 Complete Documentation Index</h3>
            <div class="toc-grid">
                <div class="toc-section">
                    <h4>🎯 System Foundation</h4>
                    <ul>
                        <li><a href="#overview">System Overview</a></li>
                        <li><a href="#philosophy">Development Philosophy</a></li>
                        <li><a href="#tech-stack">Technology Stack</a></li>
                        <li><a href="#architecture">System Architecture</a></li>
                        <li><a href="#starry-night">🌟 STARRY NIGHT BUILD 1000</a></li>
                    </ul>
                </div>
                <div class="toc-section">
                    <h4>🚀 Core Features</h4>
                    <ul>
                        <li><a href="#features">Pool Types & Features</a></li>
                        <li><a href="#ai-system">Wu-Tang AI System</a></li>
                        <li><a href="#real-time">Real-time Scoring</a></li>
                        <li><a href="#user-management">User Management</a></li>
                    </ul>
                </div>
                <div class="toc-section">
                    <h4>⚡ Performance</h4>
                    <ul>
                        <li><a href="#caching">Caching Systems</a></li>
                        <li><a href="#performance">Performance Metrics</a></li>
                        <li><a href="#optimization">Optimization Strategies</a></li>
                        <li><a href="#scaling">Scaling & Capacity</a></li>
                    </ul>
                </div>
                <div class="toc-section">
                    <h4>🛠️ Development</h4>
                    <ul>
                        <li><a href="#development">Development Workflow</a></li>
                        <li><a href="#testing">Testing Strategy</a></li>
                        <li><a href="#deployment">Deployment Process</a></li>
                        <li><a href="#quality">Quality Standards</a></li>
                    </ul>
                </div>
                <div class="toc-section">
                    <h4>🔒 Security & Ops</h4>
                    <ul>
                        <li><a href="#security">Security Model</a></li>
                        <li><a href="#authentication">Authentication</a></li>
                        <li><a href="#monitoring">Monitoring</a></li>
                        <li><a href="#troubleshooting">Troubleshooting</a></li>
                    </ul>
                </div>
                <div class="toc-section">
                    <h4>📚 Reference</h4>
                    <ul>
                        <li><a href="#api-reference">API Reference</a></li>
                        <li><a href="#data-structures">Data Structures</a></li>
                        <li><a href="#configuration">Configuration</a></li>
                        <li><a href="#emergency">Emergency Procedures</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- System Overview -->
        <div class="section" id="overview">
            <h1>🎯 System Overview</h1>

            <div class="highlight">
                <h3>What is NerdFootball?</h3>
                <p><strong>NerdFootball</strong> is a comprehensive fantasy football platform specializing in multiple pool types including confidence picks, survivor pools, weekly grids, and AI-powered predictions. Built with Diamond Level quality standards, it delivers sub-500ms performance through advanced caching and real-time data synchronization.</p>
            </div>

            <h2>Core Capabilities</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🎯 Confidence Pool</h4>
                    <span class="status-production status">Production</span>
                    <p>Weekly confidence picks with dynamic filtering (KILLER BEES system) and locked game protection</p>
                </div>
                <div class="feature-card">
                    <h4>💀 Survivor Pool</h4>
                    <span class="status-production status">Production</span>
                    <p>Season-long elimination pool with automated results and strategic analysis</p>
                </div>
                <div class="feature-card">
                    <h4>🔲 The Grid</h4>
                    <span class="status-production status">Production</span>
                    <p>Weekly score prediction grid with pre-game security and payout tracking</p>
                </div>
                <div class="feature-card">
                    <h4>🥷 Wu-Tang AI</h4>
                    <span class="status-production status">Production</span>
                    <p>5-dimensional AI prediction system with moneyline intelligence and cognitive analysis</p>
                </div>
                <div class="feature-card">
                    <h4>📊 Real-time Scoring</h4>
                    <span class="status-production status">Production</span>
                    <p>Live ESPN integration with 2-minute updates and automatic cache invalidation</p>
                </div>
                <div class="feature-card">
                    <h4>🏆 Leaderboards</h4>
                    <span class="status-production status">Production</span>
                    <p>Weekly and season leaderboards with sub-500ms response times</p>
                </div>
            </div>

            <h2>Key Metrics</h2>
            <div class="metric-grid">
                <div class="metric-card">
                    <span class="metric-value">53 → 200+</span>
                    <span class="metric-label">User Capacity</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">200-500ms</span>
                    <span class="metric-label">Cache Hit Response</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">2 minutes</span>
                    <span class="metric-label">ESPN Update Frequency</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">99% faster</span>
                    <span class="metric-label">AI Prediction Speed</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">18 weeks</span>
                    <span class="metric-label">NFL Season Coverage</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">&lt;$50</span>
                    <span class="metric-label">Season Infrastructure Cost</span>
                </div>
            </div>
        </div>

        <!-- Development Philosophy -->
        <div class="section" id="philosophy">
            <h1>💎 Development Philosophy</h1>

            <div class="highlight">
                <h3>Diamond Level Standards</h3>
                <p><strong>"Diamond Level means absolute precision, no mistakes, and comprehensive verification at every step."</strong></p>
            </div>

            <h2>Core Principles</h2>
            <div class="workflow-step">
                <h4>🎯 Precision First</h4>
                <p>Every feature must work perfectly before deployment. No shortcuts, no "good enough" solutions.</p>
            </div>
            <div class="workflow-step">
                <h4>🧪 Test Everything</h4>
                <p>Comprehensive testing with Puppeteer integration tests and Jest unit tests. >90% coverage mandatory.</p>
            </div>
            <div class="workflow-step">
                <h4>⚡ Performance Obsession</h4>
                <p>Sub-500ms response times, aggressive caching, and optimization at every layer.</p>
            </div>
            <div class="workflow-step">
                <h4>🔄 Continuous Verification</h4>
                <p>Real-time monitoring, automatic health checks, and proactive issue detection.</p>
            </div>
            <div class="workflow-step">
                <h4>🛡️ Security by Design</h4>
                <p>Authentication at every level, data validation, and protection against common vulnerabilities.</p>
            </div>

            <h2>Quality Gates</h2>
            <table>
                <thead>
                    <tr>
                        <th>Stage</th>
                        <th>Requirements</th>
                        <th>Tools</th>
                        <th>Success Criteria</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Development</strong></td>
                        <td>Code standards, TypeScript strict mode</td>
                        <td>ESLint, Prettier, TypeScript</td>
                        <td>Zero linting errors, type safety</td>
                    </tr>
                    <tr>
                        <td><strong>Testing</strong></td>
                        <td>>90% coverage, integration tests</td>
                        <td>Jest, Puppeteer, Firebase Test</td>
                        <td>All tests passing, performance verified</td>
                    </tr>
                    <tr>
                        <td><strong>Staging</strong></td>
                        <td>Full system validation</td>
                        <td>Firebase emulators, end-to-end tests</td>
                        <td>Production-identical environment</td>
                    </tr>
                    <tr>
                        <td><strong>Production</strong></td>
                        <td>Performance monitoring, health checks</td>
                        <td>Firebase monitoring, custom metrics</td>
                        <td>Sub-500ms responses, zero errors</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Technology Stack -->
        <div class="section" id="tech-stack">
            <h1>⚡ Technology Stack</h1>

            <div class="tech-stack">
                <div class="tech-card">
                    <h4>🎨 Frontend</h4>
                    <ul class="tech-list">
                        <li><strong>HTML5</strong> - Semantic markup</li>
                        <li><strong>TailwindCSS</strong> - Terminal-themed styling</li>
                        <li><strong>JavaScript ES6+</strong> - Modern browser features</li>
                        <li><strong>TypeScript</strong> - Type safety (development)</li>
                        <li><strong>Service Workers</strong> - PWA functionality</li>
                        <li><strong>WebSockets</strong> - Real-time updates</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>🔥 Firebase Platform</h4>
                    <ul class="tech-list">
                        <li><strong>Firestore</strong> - NoSQL database</li>
                        <li><strong>Functions</strong> - Serverless backend</li>
                        <li><strong>Authentication</strong> - User management</li>
                        <li><strong>Hosting</strong> - CDN deployment</li>
                        <li><strong>RTDB</strong> - Real-time updates</li>
                        <li><strong>Storage</strong> - File management</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>🏈 Data Sources</h4>
                    <ul class="tech-list">
                        <li><strong>ESPN API</strong> - Live game data</li>
                        <li><strong>NFL Official</strong> - Schedule data</li>
                        <li><strong>Betting APIs</strong> - Line intelligence</li>
                        <li><strong>Weather APIs</strong> - Game conditions</li>
                        <li><strong>Stadium Data</strong> - Venue information</li>
                        <li><strong>Wonderlic</strong> - Cognitive analysis</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>🧪 Testing & Quality</h4>
                    <ul class="tech-list">
                        <li><strong>Jest</strong> - Unit testing</li>
                        <li><strong>Puppeteer</strong> - Integration testing</li>
                        <li><strong>ESLint</strong> - Code quality</li>
                        <li><strong>Prettier</strong> - Code formatting</li>
                        <li><strong>TypeScript</strong> - Type checking</li>
                        <li><strong>Firebase Test</strong> - Cloud testing</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>📊 Monitoring & Analytics</h4>
                    <ul class="tech-list">
                        <li><strong>Firebase Analytics</strong> - User behavior</li>
                        <li><strong>Performance Monitoring</strong> - Speed tracking</li>
                        <li><strong>Error Reporting</strong> - Issue tracking</li>
                        <li><strong>Custom Metrics</strong> - Business KPIs</li>
                        <li><strong>Health Checks</strong> - System status</li>
                        <li><strong>Log Aggregation</strong> - Debug data</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>🛠️ Development Tools</h4>
                    <ul class="tech-list">
                        <li><strong>Firebase CLI</strong> - Deployment</li>
                        <li><strong>Git</strong> - Version control</li>
                        <li><strong>VS Code</strong> - Development environment</li>
                        <li><strong>Node.js</strong> - Build tools</li>
                        <li><strong>npm</strong> - Package management</li>
                        <li><strong>GitHub</strong> - Repository hosting</li>
                    </ul>
                </div>
            </div>

            <h2>Architecture Patterns</h2>
            <div class="highlight">
                <h3>📦 Bundle Architecture</h3>
                <p>Modular JavaScript architecture with lazy loading:</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// Bundle loading order
1. core-bundle.js        // Essential functionality
2. confidence-bundle.js  // Confidence pool features
3. survivor-bundle.js    // Survivor pool features
4. features-bundle.js    // Additional features
5. performance-bundle.js // Optimization utilities</code></pre>
                </div>
            </div>

            <div class="highlight">
                <h3>🏗️ Component Architecture</h3>
                <p>Modular, reusable components with clear separation of concerns:</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// Component structure
├── Authentication/
├── PoolManagement/
├── ScoringSystem/
├── CacheManager/
├── RealTimeUpdates/
├── AdminPanel/
└── UI Components/</code></pre>
                </div>
            </div>
        </div>

        <!-- System Architecture -->
        <div class="section" id="architecture">
            <h1>🏗️ System Architecture</h1>

            <div class="architecture-diagram">
                <h3>🌊 High-Level Data Flow</h3>
                <div class="mermaid">
                    graph TB
                        A[User Interface] --> B[Firebase Auth]
                        B --> C[Pool Management]
                        C --> D[Scoring System]
                        D --> E[Cache Layer]
                        E --> F[Firebase Database]

                        G[ESPN API] --> H[Score Monitor]
                        H --> F

                        I[Wu-Tang AI] --> J[Prediction Engine]
                        J --> E

                        F --> K[Real-time Updates]
                        K --> A

                        style A fill:#ffd700,color:#000
                        style F fill:#00ff41,color:#000
                        style E fill:#74c0fc,color:#000
                </div>
            </div>

            <h2>Core Components</h2>

            <div class="workflow-step">
                <h4>🎨 Frontend Layer</h4>
                <p><strong>Terminal-themed UI</strong> with responsive design, hamburger navigation, and real-time updates</p>
                <ul>
                    <li>Main hub: <code>nerd-universe.html</code></li>
                    <li>Pool interfaces: Confidence, Survivor, Grid</li>
                    <li>Wu-Tang AI Chamber: <code>help-ai-picks.html</code></li>
                    <li>Admin dashboard: <code>nerdfootball-system-architecture.html</code></li>
                </ul>
            </div>

            <div class="workflow-step">
                <h4>🔥 Firebase Backend</h4>
                <p><strong>Serverless architecture</strong> with automatic scaling and managed infrastructure</p>
                <ul>
                    <li>Cloud Functions for business logic</li>
                    <li>Firestore for real-time data</li>
                    <li>Firebase Auth for user management</li>
                    <li>Cloud Storage for assets</li>
                </ul>
            </div>

            <div class="workflow-step">
                <h4>🏈 Data Integration</h4>
                <p><strong>ESPN Score Monitor</strong> updates game data every 2 minutes during active games</p>
                <ul>
                    <li>Automatic game status mapping</li>
                    <li>Team name normalization</li>
                    <li>Score validation and verification</li>
                    <li>Cache invalidation triggers</li>
                </ul>
            </div>

            <div class="workflow-step">
                <h4>🧮 Scoring Engine</h4>
                <p><strong>ScoringCalculator</strong> processes user picks against live game results</p>
                <ul>
                    <li>Confidence point calculations</li>
                    <li>Survivor elimination logic</li>
                    <li>Grid scoring algorithms</li>
                    <li>Season aggregation</li>
                </ul>
            </div>

            <h2>Data Paths & Storage</h2>
            <table>
                <thead>
                    <tr>
                        <th>Data Type</th>
                        <th>Firebase Path</th>
                        <th>Update Frequency</th>
                        <th>Cache Strategy</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Game Results</strong></td>
                        <td><code>/artifacts/nerdfootball/public/data/nerdfootball_games/{week}</code></td>
                        <td>2 minutes</td>
                        <td>Real-time</td>
                    </tr>
                    <tr>
                        <td><strong>User Picks</strong></td>
                        <td><code>/artifacts/nerdfootball/public/data/nerdfootball_picks/{week}/submissions</code></td>
                        <td>On submission</td>
                        <td>Immediate</td>
                    </tr>
                    <tr>
                        <td><strong>Pool Members</strong></td>
                        <td><code>/artifacts/nerdfootball/pools/nerduniverse-2025/metadata/members</code></td>
                        <td>Manual</td>
                        <td>Long-term</td>
                    </tr>
                    <tr>
                        <td><strong>Scoring Data</strong></td>
                        <td><code>/artifacts/nerdfootball/pools/nerduniverse-2025/scoring-users/{userId}</code></td>
                        <td>After games</td>
                        <td>Weekly</td>
                    </tr>
                    <tr>
                        <td><strong>AI Predictions</strong></td>
                        <td><code>/artifacts/nerdfootball/pools/nerduniverse-2025/cache/latest-ai-intel-sheet</code></td>
                        <td>15 minutes</td>
                        <td>Firebase cache</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- STARRY NIGHT BUILD 1000 -->
        <div class="section" id="starry-night">
            <h1>🌟 STARRY NIGHT BUILD 1000</h1>

            <div class="highlight">
                <h3>Milestone Achievement: Complete Dynamic Architecture</h3>
                <p><strong>STARRY NIGHT BUILD 1000</strong> represents the culmination of system-wide unification, achieving complete automation, single source of truth architecture, and zero manual intervention for week-to-week operations.</p>
            </div>

            <h2>🎯 Key Achievements</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>✨ Cosmic UI Enhancement</h4>
                    <span class="status-production status">Production</span>
                    <p>Beautiful starry background animation deployed across 7 core pages for unified cosmic experience</p>
                </div>
                <div class="feature-card">
                    <h4>🔄 Dynamic Game Detection</h4>
                    <span class="status-production status">Production</span>
                    <p>Case-insensitive game status checking ensures all games display regardless of data format</p>
                </div>
                <div class="feature-card">
                    <h4>📊 Unified Survivor Logic</h4>
                    <span class="status-production status">Production</span>
                    <p>36 Chambers and Masters Audit use identical logic for alive/dead determination</p>
                </div>
                <div class="feature-card">
                    <h4>🎨 Starry Background Pages</h4>
                    <span class="status-production status">Production</span>
                    <p>nerd-universe.html, leaderboard.html, weekly-leaderboard.html, picks-landing.html, confidence picks, 36 chambers, straight-cache-homey.html</p>
                </div>
            </div>

            <h2>🏗️ Dynamic System Architecture</h2>
            <div class="workflow-step">
                <h4>📍 Single Source of Truth</h4>
                <p>All systems read from identical Firestore paths - no data duplication or inconsistency</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// Unified Data Paths - Used by ALL Systems
const GAME_RESULTS_PATH = `artifacts/nerdfootball/public/data/nerdfootball_games/{weekNumber}`;
const USER_PICKS_PATH = `artifacts/nerdfootball/public/data/nerdfootball_picks/{weekNumber}/submissions`;
const POOL_MEMBERS_PATH = `artifacts/nerdfootball/pools/nerduniverse-2025/metadata/members`;
const SURVIVOR_PICKS_PATH = `artifacts/nerdfootball/public/data/nerdSurvivor_picks/{userId}`;

// Same paths used in:
// - Weekly Leaderboard (frontend + Firebase Function)
// - Season Leaderboard (frontend + Firebase Function)
// - 36 Chambers Survivor Pool
// - Masters Audit
// - The Grid
// - Unified Scoreboard</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>📅 Dynamic Week Detection</h4>
                <p>Synchronized NFL_2025_WEEKS calendar across all systems ensures automatic week transitions</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// NFL_2025_WEEKS - Synchronized Everywhere
const NFL_2025_WEEKS = {
    1: { start: '2025-09-04', end: '2025-09-10' },
    2: { start: '2025-09-11', end: '2025-09-17' },
    // ... through week 18
    18: { start: '2026-01-01', end: '2026-01-07' }
};

function getCurrentWeekNumber() {
    const now = new Date();
    for (const [week, dates] of Object.entries(NFL_2025_WEEKS)) {
        const start = new Date(dates.start);
        const end = new Date(dates.end);
        if (now >= start && now <= end) {
            return parseInt(week);
        }
    }
    return 1; // Default to week 1
}

// Used identically in:
// - functions/weeklyLeaderboardCache.js
// - functions/survivorPoolCache.js
// - All frontend pages</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🎮 Case-Insensitive Game Status</h4>
                <p>Dynamic helper functions handle any game status format (uppercase, lowercase, mixed)</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// Dynamic Game Status Helpers
function isGameCompleted(game) {
    if (!game) return false;
    const status = (game.status || '').toLowerCase();
    return status === 'final' ||
           status === 'final/ot' ||
           status === 'status_final' ||
           (game.winner && game.winner !== 'TBD');
}

function isGameInProgress(game) {
    if (!game) return false;
    const status = (game.status || '').toLowerCase();
    return status === 'in_progress' ||
           status === 'halftime';
}

function hasGameStarted(game) {
    if (!game) return false;
    return isGameCompleted(game) || isGameInProgress(game);
}

// Replaces all hardcoded status checks like:
// game.status === 'FINAL' || game.status === 'IN_PROGRESS'</code></pre>
                </div>
            </div>

            <h2>✅ Zero Manual Intervention</h2>
            <table>
                <thead>
                    <tr>
                        <th>System</th>
                        <th>Data Source</th>
                        <th>Week Detection</th>
                        <th>Manual Work Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Weekly Leaderboard</strong></td>
                        <td>Single source paths</td>
                        <td>getCurrentWeekNumber()</td>
                        <td class="success">None</td>
                    </tr>
                    <tr>
                        <td><strong>Season Leaderboard</strong></td>
                        <td>Single source paths</td>
                        <td>getCurrentWeekNumber()</td>
                        <td class="success">None</td>
                    </tr>
                    <tr>
                        <td><strong>36 Chambers</strong></td>
                        <td>Single source paths</td>
                        <td>getCurrentWeekNumber()</td>
                        <td class="success">None</td>
                    </tr>
                    <tr>
                        <td><strong>The Grid</strong></td>
                        <td>Single source paths</td>
                        <td>Dynamic status checks</td>
                        <td class="success">None</td>
                    </tr>
                    <tr>
                        <td><strong>Unified Scoreboard</strong></td>
                        <td>Single source paths</td>
                        <td>getCurrentWeekNumber()</td>
                        <td class="success">None</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight">
                <h3 class="success">🎉 System Verification Complete</h3>
                <p>All systems verified to work dynamically week-to-week with:</p>
                <ul style="list-style: none; padding-left: 20px;">
                    <li>✅ Identical Firestore data paths</li>
                    <li>✅ Synchronized NFL_2025_WEEKS calendar</li>
                    <li>✅ Consistent getCurrentWeekNumber() implementation</li>
                    <li>✅ Case-insensitive game status detection</li>
                    <li>✅ Automatic week transitions</li>
                    <li>✅ Zero manual intervention required</li>
                </ul>
            </div>
        </div>

        <!-- Core Features -->
        <div class="section" id="features">
            <h1>🚀 Core Features</h1>

            <h2>🎯 Confidence Pool</h2>
            <div class="highlight">
                <h3>KILLER BEES System</h3>
                <p>Dynamic confidence dropdown filtering that removes values used by locked games in real-time</p>
                <div class="code-block">
                    <pre><code class="language-javascript">// KILLER BEES Logic
const usedByLockedGames = new Set();
document.querySelectorAll('.locked-row').forEach(row => {
    if (pick && pick.confidence) {
        usedByLockedGames.add(parseInt(pick.confidence));
    }
});
const availableValues = allValues.filter(value => !usedByLockedGames.has(value));</code></pre>
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🔒 Locked Game Protection</h4>
                    <span class="status-production status">Production</span>
                    <p>Games become locked when they start, preventing changes while maintaining fair play</p>
                </div>
                <div class="feature-card">
                    <h4>🔄 Real-time Updates</h4>
                    <span class="status-production status">Production</span>
                    <p>Live confidence value filtering and automatic dropdown refreshing</p>
                </div>
                <div class="feature-card">
                    <h4>📊 Smart Validation</h4>
                    <span class="status-production status">Production</span>
                    <p>Prevents duplicate confidence values and ensures valid picks</p>
                </div>
            </div>

            <h2>💀 Survivor Pool</h2>
            <div class="highlight">
                <h3>Automated Elimination System</h3>
                <p>Real-time tracking of survivor picks with automatic elimination when teams lose</p>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>⚡ Auto-Elimination</h4>
                    <span class="status-production status">Production</span>
                    <p>Automatic elimination when picked teams lose, with manual override capability</p>
                </div>
                <div class="feature-card">
                    <h4>📈 Strategic Analysis</h4>
                    <span class="status-production status">Production</span>
                    <p>Popular pick tracking and contrarian opportunity identification</p>
                </div>
                <div class="feature-card">
                    <h4>🏆 Season Tracking</h4>
                    <span class="status-production status">Production</span>
                    <p>Complete season history with team usage and elimination dates</p>
                </div>
            </div>

            <h2>🔲 The Grid</h2>
            <div class="highlight">
                <h3>Pre-Game Security</h3>
                <p>Grid picks are hidden until games begin, ensuring fair play and eliminating insider advantages</p>
            </div>

            <h2>🥷 Wu-Tang AI System</h2>
            <div class="highlight">
                <h3>5-Dimensional Analysis</h3>
                <p>Advanced AI prediction system combining multiple data sources for moneyline intelligence</p>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>⚔️ Line Battle Analysis</h4>
                    <span class="status-production status">Production</span>
                    <p>Betting line movement tracking and value identification</p>
                </div>
                <div class="feature-card">
                    <h4>🌩️ Weather Intelligence</h4>
                    <span class="status-production status">Production</span>
                    <p>Game condition analysis and weather impact scoring</p>
                </div>
                <div class="feature-card">
                    <h4>🧠 Cognitive Analysis</h4>
                    <span class="status-production status">Production</span>
                    <p>Team intelligence scoring based on Wonderlic test averages</p>
                </div>
                <div class="feature-card">
                    <h4>📊 Experience Metrics</h4>
                    <span class="status-production status">Production</span>
                    <p>Player and coaching experience analysis for big-game situations</p>
                </div>
            </div>
        </div>

        <!-- Performance & Caching -->
        <div class="section" id="performance">
            <h1>⚡ Performance & Scaling</h1>

            <h2>🔥 Firebase Cache System</h2>
            <div class="highlight">
                <h3>Sub-500ms Response Times</h3>
                <p>Multi-layer caching system delivering 99% performance improvement for AI predictions and ESPN data</p>
            </div>

            <div class="metric-grid">
                <div class="metric-card">
                    <span class="metric-value">200-500ms</span>
                    <span class="metric-label">Cache Hit Response</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">5-10s → 200ms</span>
                    <span class="metric-label">AI Prediction Speed</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">15 minutes</span>
                    <span class="metric-label">Cache Expiry Time</span>
                </div>
                <div class="metric-card">
                    <span class="metric-value">99%</span>
                    <span class="metric-label">Performance Gain</span>
                </div>
            </div>

            <h2>Cache Architecture</h2>
            <table>
                <thead>
                    <tr>
                        <th>Cache Layer</th>
                        <th>Technology</th>
                        <th>Expiry</th>
                        <th>Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>AI Predictions</strong></td>
                        <td>Firebase Document</td>
                        <td>15 minutes</td>
                        <td>Wu-Tang AI analysis results</td>
                    </tr>
                    <tr>
                        <td><strong>ESPN Data</strong></td>
                        <td>Firebase Document</td>
                        <td>6 hours</td>
                        <td>Game scores and status</td>
                    </tr>
                    <tr>
                        <td><strong>Weekly Leaderboard</strong></td>
                        <td>Firebase Document</td>
                        <td>2 minutes (live games)</td>
                        <td>User rankings and scores</td>
                    </tr>
                    <tr>
                        <td><strong>Season Leaderboard</strong></td>
                        <td>Firebase Document</td>
                        <td>1 hour</td>
                        <td>Cumulative season standings</td>
                    </tr>
                </tbody>
            </table>

            <h2>Optimization Strategies</h2>
            <div class="workflow-step">
                <h4>📦 Bundle Optimization</h4>
                <p>Modular loading architecture prevents blocking and reduces initial page load</p>
                <ul>
                    <li>Core bundle: Essential functionality only</li>
                    <li>Feature bundles: Lazy-loaded as needed</li>
                    <li>Performance bundle: Optimization utilities</li>
                </ul>
            </div>

            <div class="workflow-step">
                <h4>🗃️ Database Optimization</h4>
                <p>Efficient Firestore queries and proper indexing for fast data retrieval</p>
                <ul>
                    <li>Document-based caching</li>
                    <li>Proper field indexing</li>
                    <li>Query result limiting</li>
                    <li>Batch operations</li>
                </ul>
            </div>

            <div class="workflow-step">
                <h4>🌐 CDN & Hosting</h4>
                <p>Firebase Hosting with global CDN for fast static asset delivery</p>
                <ul>
                    <li>Global edge caching</li>
                    <li>Automatic compression</li>
                    <li>HTTP/2 support</li>
                    <li>SSL termination</li>
                </ul>
            </div>
        </div>

        <!-- Development Workflow -->
        <div class="section" id="development">
            <h1>🛠️ Development Workflow</h1>

            <h2>Diamond Level Standards</h2>
            <div class="highlight">
                <h3>Pre-Deployment Checklist</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Before ANY deployment:
1. Pre-feature commit: git add . && git commit -m "Pre-feature: Working state"
2. Write and run tests (Puppeteer + Jest)
3. Verify all tests pass
4. Maintain sub-500ms performance
5. Verify no functionality lost
6. Human regression testing
7. Post-feature commit: git add . && git commit -m "Feature complete"
8. Deploy: firebase deploy
9. Git push: git push origin main</code></pre>
                </div>
            </div>

            <h2>Testing Strategy</h2>
            <div class="workflow-step">
                <h4>🧪 Unit Testing (Jest)</h4>
                <p>Individual function and component testing with >90% coverage requirement</p>
                <div class="code-block">
                    <pre><code class="language-bash"># Run unit tests
npm test

# Run with coverage
npm test -- --coverage

# Watch mode for development
npm test -- --watch</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🎭 Integration Testing (Puppeteer)</h4>
                <p>End-to-end browser testing of complete user workflows</p>
                <div class="code-block">
                    <pre><code class="language-bash"># Run integration tests
npm run test:browser

# Run with visible browser (debug)
npm run test:headful

# Test specific features
npm run test:oauth</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🔥 Firebase Testing</h4>
                <p>Local emulator testing before production deployment</p>
                <div class="code-block">
                    <pre><code class="language-bash"># Start Firebase emulators
firebase emulators:start

# Run tests against emulators
npm run test:emulator</code></pre>
                </div>
            </div>

            <h2>Deployment Process</h2>
            <table>
                <thead>
                    <tr>
                        <th>Stage</th>
                        <th>Command</th>
                        <th>Validation</th>
                        <th>Rollback</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Functions</strong></td>
                        <td><code>firebase deploy --only functions</code></td>
                        <td>Health check endpoints</td>
                        <td>Previous version auto-restore</td>
                    </tr>
                    <tr>
                        <td><strong>Hosting</strong></td>
                        <td><code>firebase deploy --only hosting</code></td>
                        <td>UI functionality test</td>
                        <td><code>firebase hosting:channel:deploy</code></td>
                    </tr>
                    <tr>
                        <td><strong>Database Rules</strong></td>
                        <td><code>firebase deploy --only firestore:rules</code></td>
                        <td>Permission validation</td>
                        <td>Manual rule restoration</td>
                    </tr>
                    <tr>
                        <td><strong>Full Deploy</strong></td>
                        <td><code>firebase deploy</code></td>
                        <td>Complete system test</td>
                        <td><code>git checkout main && firebase deploy</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Security & Authentication -->
        <div class="section" id="security">
            <h1>🔒 Security & Authentication</h1>

            <h2>Authentication Architecture</h2>
            <div class="highlight">
                <h3>Multi-Method Authentication</h3>
                <p>Firebase Auth with Google OAuth and email/password support, plus admin-specific URL parameter authentication</p>
            </div>

            <div class="workflow-step">
                <h4>🎯 User Authentication Flow</h4>
                <div class="code-block">
                    <pre><code class="language-javascript">// Primary authentication check
await waitForFirebaseAuth();
const currentUser = window.auth.currentUser;
if (currentUser && ADMIN_UIDS.includes(currentUser.uid)) {
    return true; // Authenticated admin
}

// URL parameter fallback (hamburger menu)
const adminUID = urlParams.get('admin');
if (adminUID && ADMIN_UIDS.includes(adminUID)) {
    window.history.replaceState({}, document.title, window.location.pathname);
    return true; // Admin via URL
}</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🛡️ Data Protection</h4>
                <ul>
                    <li><strong>Firestore Rules:</strong> Path-based access control</li>
                    <li><strong>Admin Controls:</strong> UID-based admin verification</li>
                    <li><strong>Pool Membership:</strong> User isolation by pool ID</li>
                    <li><strong>Ghost User Prevention:</strong> Hardcoded blocklist</li>
                </ul>
            </div>

            <h2>Security Configuration</h2>
            <div class="code-block">
                <pre><code class="language-javascript">// Firebase Configuration (Production)
const firebaseConfig = {
    apiKey: "AIzaSyDAF1MbAhL2uPIVUGMDlXvCqtknUUCX5Gw",
    authDomain: "nerdfootball.firebaseapp.com",
    databaseURL: "https://nerdfootball-default-rtdb.firebaseio.com",
    projectId: "nerdfootball",
    storageBucket: "nerdfootball.appspot.com",
    messagingSenderId: "969304790725",
    appId: "1:969304790725:web:892df38db0b0e62bde02ac"
};</code></pre>
            </div>

            <h2>Admin Access Levels</h2>
            <table>
                <thead>
                    <tr>
                        <th>Level</th>
                        <th>Capabilities</th>
                        <th>Access Method</th>
                        <th>Validation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Super Admin</strong></td>
                        <td>Full system access, user management, pool settings</td>
                        <td>Firebase Auth + UID whitelist</td>
                        <td>Multi-factor verification</td>
                    </tr>
                    <tr>
                        <td><strong>Pool Admin</strong></td>
                        <td>Pool management, member addition/removal</td>
                        <td>Pool-specific permissions</td>
                        <td>Role-based access</td>
                    </tr>
                    <tr>
                        <td><strong>AI Admin</strong></td>
                        <td>Wu-Tang AI system access and controls</td>
                        <td>URL parameter + UID verification</td>
                        <td>Admin arsenal visibility</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Monitoring & Operations -->
        <div class="section" id="monitoring">
            <h1>📈 Monitoring & Operations</h1>

            <h2>Health Check System</h2>
            <div class="highlight">
                <h3>Automated Monitoring</h3>
                <p>Comprehensive health checks across all system components with real-time status reporting</p>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🏈 ESPN Monitor</h4>
                    <span class="status-production status">Production</span>
                    <p>Validates ESPN API connection and game data freshness every 2 minutes</p>
                </div>
                <div class="feature-card">
                    <h4>🚀 Cache Health</h4>
                    <span class="status-production status">Production</span>
                    <p>Monitors cache hit ratios and response times across all cache layers</p>
                </div>
                <div class="feature-card">
                    <h4>🔥 Firebase Status</h4>
                    <span class="status-production status">Production</span>
                    <p>Tracks Firebase service availability and function execution times</p>
                </div>
                <div class="feature-card">
                    <h4>👥 User Activity</h4>
                    <span class="status-production status">Production</span>
                    <p>Monitors user engagement and pool participation metrics</p>
                </div>
            </div>

            <h2>Debug Logging System</h2>
            <div class="code-block">
                <pre><code class="language-javascript">// Debug logging prefixes for easy filtering
🏈 ESPN: ESPN Score Monitor operations
🧮 SCORING: ScoringCalculator operations
🚀 CACHE: Cache generation and retrieval
📊 LEADERBOARD: Leaderboard generation
🔥 FIREBASE: Firebase operations
🎯 CONFIDENCE_FILTER: KILLER BEES system
🔄 CONFIDENCE_REFRESH: Dynamic dropdown updates
🥷 WU_TANG: AI prediction system
💀 SURVIVOR: Survivor pool operations</code></pre>
            </div>

            <h2>Performance Metrics</h2>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Target</th>
                        <th>Current</th>
                        <th>Monitoring Method</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Cache Hit Ratio</strong></td>
                        <td>>95%</td>
                        <td>~98%</td>
                        <td>Firebase Analytics</td>
                    </tr>
                    <tr>
                        <td><strong>Response Time</strong></td>
                        <td>&lt;500ms</td>
                        <td>200-300ms</td>
                        <td>Performance API</td>
                    </tr>
                    <tr>
                        <td><strong>Error Rate</strong></td>
                        <td>&lt;0.1%</td>
                        <td>~0.05%</td>
                        <td>Error Reporting</td>
                    </tr>
                    <tr>
                        <td><strong>Uptime</strong></td>
                        <td>>99.9%</td>
                        <td>99.95%</td>
                        <td>Firebase Monitoring</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- API Reference -->
        <div class="section" id="api-reference">
            <h1>📚 API Reference</h1>

            <h2>Core APIs</h2>

            <div class="workflow-step">
                <h4>🏈 ESPN Score Monitor</h4>
                <p><strong>URL:</strong> <code>https://updatescores-np7uealtnq-uc.a.run.app</code></p>
                <div class="code-block">
                    <pre><code class="language-bash"># GET - Check status
curl https://updatescores-np7uealtnq-uc.a.run.app

# Response
{
  "success": true,
  "result": {
    "week": 4,
    "gamesUpdated": 16,
    "gamesCompleted": 13
  }
}</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>📊 Weekly Leaderboard</h4>
                <p><strong>URL:</strong> <code>https://getweeklyleaderboard-np7uealtnq-uc.a.run.app</code></p>
                <div class="code-block">
                    <pre><code class="language-bash"># GET - Retrieve weekly leaderboard
curl "https://getweeklyleaderboard-np7uealtnq-uc.a.run.app?week=4"

# Response
{
  "cached": true,
  "cacheAge": 45,
  "responseTime": 234,
  "leaderboard": [...]
}</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🏆 Season Leaderboard</h4>
                <p><strong>URL:</strong> <code>https://generateseasonleaderboardcache-np7uealtnq-uc.a.run.app</code></p>
                <div class="code-block">
                    <pre><code class="language-bash"># GET - Retrieve season leaderboard
curl https://generateseasonleaderboardcache-np7uealtnq-uc.a.run.app

# Force refresh
curl -X POST "https://generateseasonleaderboardcache-np7uealtnq-uc.a.run.app?force=true"</code></pre>
                </div>
            </div>
        </div>

        <!-- Emergency Procedures -->
        <div class="section" id="emergency">
            <h1>🚨 Emergency Procedures</h1>

            <div class="highlight">
                <h3>System Recovery Commands</h3>
                <p>Critical commands for immediate system restoration in case of failures</p>
            </div>

            <div class="workflow-step">
                <h4>🔄 Instant Recovery</h4>
                <div class="code-block">
                    <pre><code class="language-bash"># If anything breaks - instant recovery to main branch
git checkout main
firebase deploy --only hosting
firebase deploy --only functions</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>📊 Data Corruption Recovery</h4>
                <div class="code-block">
                    <pre><code class="language-bash"># Emergency Week 4 fix example (adaptable to any week)
node emergency-week4-regenerate.js
node clear-all-week4-caches.js

# Verify recovery
curl https://updatescores-np7uealtnq-uc.a.run.app
curl "https://getweeklyleaderboard-np7uealtnq-uc.a.run.app?week=4"</code></pre>
                </div>
            </div>

            <div class="workflow-step">
                <h4>🗃️ Cache System Recovery</h4>
                <div class="code-block">
                    <pre><code class="language-bash"># Clear and regenerate all caches
curl -X POST "https://generateweeklyleaderboardcache-np7uealtnq-uc.a.run.app?week=4&force=true"
curl -X POST "https://generateseasonleaderboardcache-np7uealtnq-uc.a.run.app?force=true"

# Emergency cache refresh tool
https://nerdfootball.web.app/fix-week4-corruption.html</code></pre>
                </div>
            </div>

            <h2>Emergency Contacts & Resources</h2>
            <table>
                <thead>
                    <tr>
                        <th>Issue Type</th>
                        <th>Tool/Resource</th>
                        <th>Access Method</th>
                        <th>Recovery Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Data Corruption</strong></td>
                        <td>Emergency Fix Tool</td>
                        <td><code>/fix-week4-corruption.html</code></td>
                        <td>5-10 minutes</td>
                    </tr>
                    <tr>
                        <td><strong>Cache Issues</strong></td>
                        <td>Manual API Triggers</td>
                        <td>Direct API calls with <code>?force=true</code></td>
                        <td>1-2 minutes</td>
                    </tr>
                    <tr>
                        <td><strong>System Failure</strong></td>
                        <td>Git Branch Recovery</td>
                        <td><code>git checkout main && firebase deploy</code></td>
                        <td>30 seconds</td>
                    </tr>
                    <tr>
                        <td><strong>Authentication Issues</strong></td>
                        <td>Firebase Console</td>
                        <td>Direct Firebase project access</td>
                        <td>2-5 minutes</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Footer -->
        <div class="section">
            <h1>🎯 Documentation Status</h1>
            <div class="text-center">
                <div class="highlight">
                    <h3 class="success">✅ Complete Technical Documentation</h3>
                    <p>This comprehensive guide covers all aspects of the NerdFootball system, from high-level architecture to emergency procedures.</p>
                </div>

                <div class="metric-grid">
                    <div class="metric-card">
                        <span class="metric-value">Production</span>
                        <span class="metric-label">System Status</span>
                    </div>
                    <div class="metric-card">
                        <span class="metric-value">v5.0</span>
                        <span class="metric-label">Documentation Version</span>
                    </div>
                    <div class="metric-card">
                        <span class="metric-value">2025</span>
                        <span class="metric-label">NFL Season</span>
                    </div>
                    <div class="metric-card">
                        <span class="metric-value">🌟 STARRY NIGHT</span>
                        <span class="metric-label">Build 1000</span>
                    </div>
                </div>

                <div class="nav-grid mt-8">
                    <div class="nav-card" onclick="window.open('/weekly-leaderboard.html', '_blank')">
                        <div class="icon">📊</div>
                        <h3>View Leaderboards</h3>
                        <p>Check current weekly and season standings</p>
                    </div>
                    <div class="nav-card" onclick="window.open('/help-ai-picks.html', '_blank')">
                        <div class="icon">🥷</div>
                        <h3>Wu-Tang AI Chamber</h3>
                        <p>Access AI prediction system</p>
                    </div>
                    <div class="nav-card" onclick="window.open('/nerdfootball-system-architecture.html', '_blank')">
                        <div class="icon">🛠️</div>
                        <h3>Admin Dashboard</h3>
                        <p>System administration and monitoring</p>
                    </div>
                    <div class="nav-card" onclick="window.open('/nerd-universe.html', '_blank')">
                        <div class="icon">🌌</div>
                        <h3>Nerd Universe</h3>
                        <p>Main application hub</p>
                    </div>
                </div>

                <div class="mt-8 text-sm">
                    <p class="info">Document Version: v5.0 - STARRY NIGHT BUILD 1000 | Last Updated: October 4, 2025</p>
                    <p class="info">System Status: ✅ Fully Operational | Dynamic Architecture: ✅ Zero Manual Intervention</p>
                    <p class="warning">Emergency Support: Use git checkout main && firebase deploy for instant recovery</p>
                </div>
            </div>
        </div>

        <!-- Back to Top Button -->
        <button class="back-to-top" onclick="window.scrollTo(0,0)">↑</button>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });

        // Smooth scrolling function
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Handle hash navigation
        document.addEventListener('DOMContentLoaded', function() {
            if (window.location.hash) {
                const sectionId = window.location.hash.substring(1);
                setTimeout(() => scrollToSection(sectionId), 100);
            }
        });

        // Add click handlers for all internal links
        document.querySelectorAll('a[href^="#"]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('href').substring(1);
                scrollToSection(sectionId);
                // Update URL hash
                history.pushState(null, null, `#${sectionId}`);
            });
        });

        // Show/hide back to top button
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.scrollY > 300) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });

        // Add loading indicators for external links
        document.querySelectorAll('a[href^="http"]').forEach(link => {
            link.addEventListener('click', function() {
                const loadingSpan = document.createElement('span');
                loadingSpan.innerHTML = ' <span class="info">(Loading...)</span>';
                this.appendChild(loadingSpan);
            });
        });

        // Add copy code functionality
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('click', function() {
                navigator.clipboard.writeText(this.textContent).then(() => {
                    const originalBorder = this.style.border;
                    this.style.border = '2px solid #51cf66';
                    setTimeout(() => {
                        this.style.border = originalBorder;
                    }, 1000);
                });
            });
        });
    </script>
</body>
</html>